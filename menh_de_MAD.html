<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc Logic - M·ªánh ƒê·ªÅ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .accordion-content.active {
            max-height: 1000px;
        }
        
        .truth-table {
            border-collapse: collapse;
        }
        
        .truth-table td, .truth-table th {
            border: 2px solid #e5e7eb;
            padding: 8px 12px;
            text-align: center;
        }
        
        .drop-zone {
            min-height: 40px;
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        
        .draggable {
            cursor: grab;
            user-select: none;
        }
        
        .draggable:active {
            cursor: grabbing;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center space-x-3">
                <div class="text-3xl">üß†</div>
                <h1 class="text-2xl font-bold">H·ªçc Logic - M·ªánh ƒê·ªÅ</h1>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Module Navigation -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover cursor-pointer" onclick="showModule('theory')">
                <div class="text-4xl mb-4 text-center">üìñ</div>
                <h3 class="text-lg font-semibold mb-2 text-center">L√Ω Thuy·∫øt</h3>
                <p class="text-gray-600 text-sm mb-4 text-center">Kh√°m ph√° c√°c kh√°i ni·ªám m·ªánh ƒë·ªÅ c∆° b·∫£n</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 card-hover cursor-pointer" onclick="showModule('quiz')">
                <div class="text-4xl mb-4 text-center">üéØ</div>
                <h3 class="text-lg font-semibold mb-2 text-center">B√†i T·∫≠p ·ª®ng D·ª•ng</h3>
                <p class="text-gray-600 text-sm mb-4 text-center">Th·ª±c h√†nh v·ªõi c√°c c√¢u h·ªèi tr·∫Øc nghi·ªám</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 card-hover cursor-pointer" onclick="showModule('truth-table')">
                <div class="text-4xl mb-4 text-center">üß©</div>
                <h3 class="text-lg font-semibold mb-2 text-center">X√¢y D·ª±ng B·∫£ng Ch√¢n L√Ω</h3>
                <p class="text-gray-600 text-sm mb-4 text-center">Luy·ªán t·∫≠p x√¢y d·ª±ng b·∫£ng ch√¢n l√Ω cho c√°c bi·ªÉu th·ª©c</p>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- L√Ω Thuy·∫øt Modal -->
    <div id="theory-modal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üìñ L√Ω Thuy·∫øt</h2>
                    <button onclick="closeModal('theory-modal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6">
                <div class="space-y-4">
                    <!-- M·ªánh ƒë·ªÅ -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-proposition')">
                            M·ªánh ƒê·ªÅ L√† G√¨?
                        </button>
                        <div id="theory-proposition" class="accordion-content p-4">
                            <p class="mb-3">M·ªánh ƒë·ªÅ l√† m·ªôt c√¢u kh·∫≥ng ƒë·ªãnh c√≥ gi√° tr·ªã ch√¢n l√Ω r√µ r√†ng, ch·ªâ c√≥ th·ªÉ l√† <strong>ƒê√∫ng (True, 1)</strong> ho·∫∑c <strong>Sai (False, 0)</strong>.</p>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-green-50 p-3 rounded">
                                    <p class="font-medium text-green-700">‚úì V√≠ d·ª• m·ªánh ƒë·ªÅ:</p>
                                    <p class="text-sm">"Tr·ªùi ƒëang m∆∞a" (ƒê√∫ng ho·∫∑c Sai t√πy ng·ªØ c·∫£nh).</p>
                                </div>
                                <div class="bg-red-50 p-3 rounded">
                                    <p class="font-medium text-red-700">‚úó Kh√¥ng ph·∫£i m·ªánh ƒë·ªÅ:</p>
                                    <p class="text-sm">"Tr·ªùi m∆∞a kh√¥ng?" (C√¢u h·ªèi, kh√¥ng c√≥ gi√° tr·ªã ch√¢n l√Ω).</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ph·ªß ƒë·ªãnh -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-negation')">
                            Ph·ªß ƒê·ªãnh (Negation)
                        </button>
                        <div id="theory-negation" class="accordion-content p-4">
                            <p class="mb-3">Ph·ªß ƒë·ªãnh c·ªßa m·ªánh ƒë·ªÅ \( p \), k√Ω hi·ªáu \( \neg p \), ƒë·∫£o ng∆∞·ª£c gi√° tr·ªã ch√¢n l√Ω: ƒê√∫ng th√†nh Sai, Sai th√†nh ƒê√∫ng.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "kh√¥ng", "nh∆∞ng".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> \( p \): "Tr·ªùi m∆∞a" ‚Üí \( \neg p \): "Tr·ªùi kh√¥ng m∆∞a".</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( \neg p \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>0</td></tr>
                                    <tr><td>0</td><td>1</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Ph√©p giao -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-conjunction')">
                            Ph√©p Giao (Conjunction - "V√†")
                        </button>
                        <div id="theory-conjunction" class="accordion-content p-4">
                            <p class="mb-3">Ph√©p giao \( p \wedge q \) ch·ªâ <strong>ƒê√∫ng</strong> khi c·∫£ \( p \) v√† \( q \) ƒë·ªÅu ƒê√∫ng, c√°c tr∆∞·ªùng h·ª£p kh√°c l√† Sai.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "v√†", d·∫•u ph·∫©y, ho·∫∑c "nh∆∞ng".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "T√¥i v·ªÅ nh√† v√† l√†m b√†i t·∫≠p" (\( p \wedge q \)).</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( q \)</th>
                                        <th>\( p \wedge q \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>0</td></tr>
                                    <tr><td>0</td><td>1</td><td>0</td></tr>
                                    <tr><td>0</td><td>0</td><td>0</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Ph√©p h·ª£p -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-disjunction')">
                            Ph√©p H·ª£p (Disjunction - "Ho·∫∑c")
                        </button>
                        <div id="theory-disjunction" class="accordion-content p-4">
                            <p class="mb-3">Ph√©p h·ª£p \( p \vee q \) l√† <strong>ƒê√∫ng</strong> n·∫øu √≠t nh·∫•t m·ªôt trong \( p \) ho·∫∑c \( q \) ƒê√∫ng, ch·ªâ Sai khi c·∫£ hai Sai.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "ho·∫∑c".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "T√¥i v·ªÅ nh√† ho·∫∑c l√†m b√†i t·∫≠p" (\( p \vee q \)).</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( q \)</th>
                                        <th>\( p \vee q \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>1</td></tr>
                                    <tr><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>0</td><td>0</td><td>0</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Ph√©p ho·∫∑c lo·∫°i tr·ª´ -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-xor')">
                            Ph√©p Ho·∫∑c Lo·∫°i Tr·ª´ (Exclusive Or)
                        </button>
                        <div id="theory-xor" class="accordion-content p-4">
                            <p class="mb-3">Ph√©p ho·∫∑c lo·∫°i tr·ª´ \( p \oplus q \) ch·ªâ <strong>ƒê√∫ng</strong> khi ch·ªâ m·ªôt trong \( p \) ho·∫∑c \( q \) l√† ƒê√∫ng, Sai n·∫øu c·∫£ hai c√πng ƒê√∫ng ho·∫∑c c√πng Sai.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "ch·ªâ \( p \) ho·∫∑c ch·ªâ \( q \)".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "Ho·∫∑c t√¥i v·ªÅ nh√†, ho·∫∑c l√†m b√†i t·∫≠p, nh∆∞ng kh√¥ng c·∫£ hai" (\( p \oplus q \)).</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( q \)</th>
                                        <th>\( p \oplus q \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>1</td><td>0</td></tr>
                                    <tr><td>1</td><td>0</td><td>1</td></tr>
                                    <tr><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>0</td><td>0</td><td>0</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- C√¢u ƒëi·ªÅu ki·ªán -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-conditional')">
                            C√¢u ƒêi·ªÅu Ki·ªán (Conditional)
                        </button>
                        <div id="theory-conditional" class="accordion-content p-4">
                            <p class="mb-3">C√¢u ƒëi·ªÅu ki·ªán \( p \to q \) ch·ªâ <strong>Sai</strong> khi \( p \) ƒê√∫ng v√† \( q \) Sai, c√°c tr∆∞·ªùng h·ª£p kh√°c l√† ƒê√∫ng.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "n·∫øu \( p \) th√¨ \( q \)", "\( q \) n·∫øu \( p \)", "\( p \) ƒë·ªß ƒë·ªÉ \( q \)", "\( q \) l√† ƒëi·ªÅu ki·ªán c·∫ßn cho \( p \)", "\( p \) ch·ªâ khi \( q \)".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "N·∫øu t√¥i v·ªÅ nh√† th√¨ l√†m b√†i t·∫≠p" (\( p \to q \)).</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( q \)</th>
                                        <th>\( p \to q \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>0</td></tr>
                                    <tr><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>0</td><td>0</td><td>1</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- M·ªánh ƒë·ªÅ t∆∞∆°ng ƒë∆∞∆°ng -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-biconditional')">
                            M·ªánh ƒê·ªÅ T∆∞∆°ng ƒê∆∞∆°ng (Biconditional)
                        </button>
                        <div id="theory-biconditional" class="accordion-content p-4">
                            <p class="mb-3">M·ªánh ƒë·ªÅ t∆∞∆°ng ƒë∆∞∆°ng \( p \leftrightarrow q \) l√† <strong>ƒê√∫ng</strong> khi \( p \) v√† \( q \) c√≥ c√πng gi√° tr·ªã ch√¢n l√Ω, Sai n·∫øu kh√°c nhau.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "n·∫øu v√† ch·ªâ n·∫øu".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "T√¥i l√†m b√†i t·∫≠p n·∫øu v√† ch·ªâ n·∫øu t√¥i v·ªÅ nh√†" (\( p \leftrightarrow q \)).</p>
                            <table class="truth-table mx-auto">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th>\( p \)</th>
                                        <th>\( q \)</th>
                                        <th>\( p \leftrightarrow q \)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>1</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>0</td></tr>
                                    <tr><td>0</td><td>1</td><td>0</td></tr>
                                    <tr><td>0</td><td>0</td><td>1</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- L∆∞·ª£ng t·ª´ -->
                    <div class="border rounded-lg">
                        <button class="w-full text-left p-4 font-semibold bg-gray-100 hover:bg-gray-200 transition-colors" onclick="toggleAccordion('theory-quantifiers')">
                            L∆∞·ª£ng T·ª´ (Quantifiers)
                        </button>
                        <div id="theory-quantifiers" class="accordion-content p-4">
                            <h4 class="font-semibold mb-2">1. V·ªõi m·ªçi (Universal Quantifier):</h4>
                            <p class="mb-3">C√¢u "V·ªõi m·ªçi \( x \), \( P(x) \)" l√† ƒê√∫ng n·∫øu \( P(x) \) ƒê√∫ng cho m·ªçi \( x \). Sai n·∫øu c√≥ √≠t nh·∫•t m·ªôt ph·∫£n v√≠ d·ª•.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "m·ªçi", "t·∫•t c·∫£", "b·∫•t k·ª≥".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "M·ªçi con m√®o ƒë·ªÅu l√† ƒë·ªông v·∫≠t c√≥ v√∫" (ƒê√∫ng).</p>
                            
                            <h4 class="font-semibold mb-2 mt-4">2. T·ªìn t·∫°i (Existential Quantifier):</h4>
                            <p class="mb-3">C√¢u "T·ªìn t·∫°i \( x \) sao cho \( P(x) \)" l√† ƒê√∫ng n·∫øu c√≥ √≠t nh·∫•t m·ªôt \( x \) l√†m \( P(x) \) ƒê√∫ng. Sai n·∫øu kh√¥ng c√≥ tr∆∞·ªùng h·ª£p n√†o.</p>
                            <p class="mb-3"><strong>Thu·∫≠t ng·ªØ:</strong> "m·ªôt", "c√≥", "m·ªôt s·ªë".</p>
                            <p class="mb-3"><strong>V√≠ d·ª•:</strong> "C√≥ con m√®o m√†u ƒëen" (ƒê√∫ng).</p>
                            
                            <p class="mb-3"><strong>Ph·ªß ƒë·ªãnh l∆∞·ª£ng t·ª´:</strong></p>
                            <ul class="list-disc pl-5">
                                <li>\( \neg (\forall x, P(x)) \equiv \exists x, \neg P(x) \)</li>
                                <li>\( \neg (\exists x, P(x)) \equiv \forall x, \neg P(x) \)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- B√†i T·∫≠p ·ª®ng D·ª•ng Modal -->
    <div id="quiz-modal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üéØ B√†i T·∫≠p ·ª®ng D·ª•ng</h2>
                    <button onclick="closeModal('quiz-modal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6">
                <div class="space-y-8">
                    <!-- C√¢u 1 -->
                    <div>
                        <p class="font-medium mb-2">C√¢u 1: Ph·ªß ƒë·ªãnh c·ªßa m·ªánh ƒë·ªÅ "M·ªçi h·ªçc sinh ƒë·ªÅu chƒÉm ch·ªâ" l√†:</p>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-1" value="A" class="mr-3">
                                <span>A. Kh√¥ng c√≥ h·ªçc sinh n√†o chƒÉm ch·ªâ</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-1" value="B" class="mr-3">
                                <span>B. C√≥ √≠t nh·∫•t m·ªôt h·ªçc sinh kh√¥ng chƒÉm ch·ªâ</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-1" value="C" class="mr-3">
                                <span>C. M·ªôt s·ªë h·ªçc sinh chƒÉm ch·ªâ</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-1" value="D" class="mr-3">
                                <span>D. T·∫•t c·∫£ h·ªçc sinh ƒë·ªÅu kh√¥ng chƒÉm ch·ªâ</span>
                            </label>
                        </div>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors mt-4" onclick="checkQuizAnswer(1, 'B')">Ki·ªÉm Tra</button>
                        <div id="quiz-result-1" class="mt-4 p-3 rounded hidden"></div>
                    </div>

                    <!-- C√¢u 2 -->
                    <div>
                        <p class="font-medium mb-2">C√¢u 2: M·ªánh ƒë·ªÅ \( p \wedge q \) ƒë√∫ng khi n√†o?</p>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-2" value="A" class="mr-3">
                                <span>A. Ch·ªâ khi \( p \) ƒë√∫ng</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-2" value="B" class="mr-3">
                                <span>B. Ch·ªâ khi \( q \) ƒë√∫ng</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-2" value="C" class="mr-3">
                                <span>C. Khi c·∫£ \( p \) v√† \( q \) ƒë·ªÅu ƒë√∫ng</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-2" value="D" class="mr-3">
                                <span>D. Khi \( p \) ho·∫∑c \( q \) ƒë√∫ng</span>
                            </label>
                        </div>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors mt-4" onclick="checkQuizAnswer(2, 'C')">Ki·ªÉm Tra</button>
                        <div id="quiz-result-2" class="mt-4 p-3 rounded hidden"></div>
                    </div>

                    <!-- C√¢u 3 -->
                    <div>
                        <p class="font-medium mb-2">C√¢u 3: Ph·ªß ƒë·ªãnh c·ªßa \( p \vee q \) theo De Morgan l√†:</p>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-3" value="A" class="mr-3">
                                <span>A. \( \neg p \wedge \neg q \)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-3" value="B" class="mr-3">
                                <span>B. \( \neg p \vee \neg q \)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-3" value="C" class="mr-3">
                                <span>C. \( p \wedge q \)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-3" value="D" class="mr-3">
                                <span>D. \( p \vee q \)</span>
                            </label>
                        </div>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors mt-4" onclick="checkQuizAnswer(3, 'A')">Ki·ªÉm Tra</button>
                        <div id="quiz-result-3" class="mt-4 p-3 rounded hidden"></div>
                    </div>

                    <!-- C√¢u 4 -->
                    <div>
                        <p class="font-medium mb-2">C√¢u 4: \( p \to q \) sai khi n√†o?</p>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-4" value="A" class="mr-3">
                                <span>A. \( p \) ƒë√∫ng, \( q \) ƒë√∫ng</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-4" value="B" class="mr-3">
                                <span>B. \( p \) ƒë√∫ng, \( q \) sai</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-4" value="C" class="mr-3">
                                <span>C. \( p \) sai, \( q \) ƒë√∫ng</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-4" value="D" class="mr-3">
                                <span>D. \( p \) sai, \( q \) sai</span>
                            </label>
                        </div>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors mt-4" onclick="checkQuizAnswer(4, 'B')">Ki·ªÉm Tra</button>
                        <div id="quiz-result-4" class="mt-4 p-3 rounded hidden"></div>
                    </div>

                    <!-- C√¢u 5 -->
                    <div>
                        <p class="font-medium mb-2">C√¢u 5: Ph·ªß ƒë·ªãnh c·ªßa "T·ªìn t·∫°i x sao cho P(x)" l√†:</p>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-5" value="A" class="mr-3">
                                <span>A. V·ªõi m·ªçi x, P(x)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-5" value="B" class="mr-3">
                                <span>B. V·ªõi m·ªçi x, \neg P(x)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-5" value="C" class="mr-3">
                                <span>C. T·ªìn t·∫°i x, P(x)</span>
                            </label>
                            <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer">
                                <input type="radio" name="quiz-5" value="D" class="mr-3">
                                <span>D. T·ªìn t·∫°i x, \neg P(x)</span>
                            </label>
                        </div>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors mt-4" onclick="checkQuizAnswer(5, 'B')">Ki·ªÉm Tra</button>
                        <div id="quiz-result-5" class="mt-4 p-3 rounded hidden"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- X√¢y D·ª±ng B·∫£ng Ch√¢n L√Ω Modal -->
    <div id="truth-table-modal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üß© X√¢y D·ª±ng B·∫£ng Ch√¢n L√Ω</h2>
                    <button onclick="closeModal('truth-table-modal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
            </div>
            <div class="p-6">
                <div id="truth-table-exercise">
                    <!-- N·ªôi dung b√†i t·∫≠p s·∫Ω ƒë∆∞·ª£c load b·∫±ng JS -->
                </div>
                <div class="flex justify-between mt-6">
                    <button class="bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700 transition-colors" onclick="prevExercise()">Quay L·∫°i</button>
                    <button class="bg-orange-600 text-white px-6 py-2 rounded hover:bg-orange-700 transition-colors" onclick="resetTable()">L√†m L·∫°i</button>
                    <button class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors" onclick="checkTruthTable()">Ki·ªÉm Tra</button>
                    <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors" onclick="nextExercise()">Ti·∫øp Theo</button>
                </div>
                <div id="truth-table-result" class="mt-4 p-3 rounded hidden"></div>
            </div>
        </div>
    </div>

    <script>
        // Utility Functions
        function showModule(moduleType) {
            const modal = document.getElementById(`${moduleType}-modal`);
            modal.classList.add('active');
            
            if (moduleType === 'truth-table') {
                currentExercise = 0;
                loadTruthTableExercise();
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Accordion cho ph·∫ßn l√Ω thuy·∫øt
        function toggleAccordion(id) {
            const content = document.getElementById(id);
            const isActive = content.classList.contains('active');
            // ƒê√≥ng t·∫•t c·∫£ accordion
            document.querySelectorAll('.accordion-content').forEach(item => {
                item.classList.remove('active');
            });
            // M·ªü accordion ƒë∆∞·ª£c ch·ªçn n·∫øu ch∆∞a active
            if (!isActive) {
                content.classList.add('active');
            }
            // Render l·∫°i MathJax
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }

        // Quiz Answers
        const quizAnswers = {
            1: 'B',
            2: 'C',
            3: 'A',
            4: 'B',
            5: 'B'
        };

        const quizExplanations = {
            1: 'Ph·ªß ƒë·ªãnh c·ªßa "M·ªçi h·ªçc sinh ƒë·ªÅu chƒÉm ch·ªâ" l√† "C√≥ √≠t nh·∫•t m·ªôt h·ªçc sinh kh√¥ng chƒÉm ch·ªâ".',
            2: 'M·ªánh ƒë·ªÅ \( p \wedge q \) ƒë√∫ng ch·ªâ khi c·∫£ hai ƒë·ªÅu ƒë√∫ng.',
            3: 'Theo De Morgan, ph·ªß ƒë·ªãnh c·ªßa \( p \vee q \) l√† \( \neg p \wedge \neg q \).',
            4: '\( p \to q \) sai ch·ªâ khi \( p \) ƒë√∫ng v√† \( q \) sai.',
            5: 'Ph·ªß ƒë·ªãnh c·ªßa "T·ªìn t·∫°i x sao cho P(x)" l√† "V·ªõi m·ªçi x, \\neg P(x)".'
        };

        function checkQuizAnswer(questionId, correctAnswer) {
            const selectedAnswer = document.querySelector(`input[name="quiz-${questionId}"]:checked`);
            const resultDiv = document.getElementById(`quiz-result-${questionId}`);
            resultDiv.classList.remove('hidden');

            if (selectedAnswer && selectedAnswer.value === quizAnswers[questionId]) {
                resultDiv.className = 'mt-4 p-3 rounded bg-green-100 text-green-800';
                resultDiv.textContent = `‚úÖ ƒê√∫ng! ${quizExplanations[questionId]}`;
            } else {
                resultDiv.className = 'mt-4 p-3 rounded bg-red-100 text-red-800';
                resultDiv.textContent = `‚ùå Sai! ƒê√°p √°n ƒë√∫ng l√† ${quizAnswers[questionId]}. ${quizExplanations[questionId]}`;
            }
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }

        // Truth Table Exercises
        let currentExercise = 0;
        const truthTableExercises = [
            {
                expression: 'p \\wedge q',
                columns: ['p', 'q', 'p \\wedge q'],
                rows: [
                    {p: '1', q: '1', expected: '1'},
                    {p: '1', q: '0', expected: '0'},
                    {p: '0', q: '1', expected: '0'},
                    {p: '0', q: '0', expected: '0'}
                ],
                draggables: 4
            },
            {
                expression: 'p \\vee q',
                columns: ['p', 'q', 'p \\vee q'],
                rows: [
                    {p: '1', q: '1', expected: '1'},
                    {p: '1', q: '0', expected: '1'},
                    {p: '0', q: '1', expected: '1'},
                    {p: '0', q: '0', expected: '0'}
                ],
                draggables: 4
            },
            {
                expression: 'p \\to q',
                columns: ['p', 'q', 'p \\to q'],
                rows: [
                    {p: '1', q: '1', expected: '1'},
                    {p: '1', q: '0', expected: '0'},
                    {p: '0', q: '1', expected: '1'},
                    {p: '0', q: '0', expected: '1'}
                ],
                draggables: 4
            },
            {
                expression: '(p \\wedge q) \\to r',
                columns: ['p', 'q', 'r', 'p \\wedge q', '(p \\wedge q) \\to r'],
                rows: [
                    {p: '1', q: '1', r: '1', 'p \\wedge q': '1', expected: '1'},
                    {p: '1', q: '1', r: '0', 'p \\wedge q': '1', expected: '0'},
                    {p: '1', q: '0', r: '1', 'p \\wedge q': '0', expected: '1'},
                    {p: '1', q: '0', r: '0', 'p \\wedge q': '0', expected: '1'},
                    {p: '0', q: '1', r: '1', 'p \\wedge q': '0', expected: '1'},
                    {p: '0', q: '1', r: '0', 'p \\wedge q': '0', expected: '1'},
                    {p: '0', q: '0', r: '1', 'p \\wedge q': '0', expected: '1'},
                    {p: '0', q: '0', r: '0', 'p \\wedge q': '0', expected: '1'}
                ],
                draggables: 8
            },
            {
                expression: 'p \\leftrightarrow q',
                columns: ['p', 'q', 'p \\leftrightarrow q'],
                rows: [
                    {p: '1', q: '1', expected: '1'},
                    {p: '1', q: '0', expected: '0'},
                    {p: '0', q: '1', expected: '0'},
                    {p: '0', q: '0', expected: '1'}
                ],
                draggables: 4
            }
        ];

        function loadTruthTableExercise() {
            const exercise = truthTableExercises[currentExercise];
            const container = document.getElementById('truth-table-exercise');
            container.innerHTML = `
                <h3 class="text-lg font-semibold mb-4">Bi·ªÉu th·ª©c: <span class="mathjax-expression">\\(${exercise.expression}\\)</span></h3>
                <p class="mb-4">K√©o th·∫£ gi√° tr·ªã 0 ho·∫∑c 1 v√†o c·ªôt cu·ªëi c√πng.</p>
                <div class="mb-4">
                    <h4 class="font-medium mb-2">Gi√° tr·ªã c√≥ s·∫µn:</h4>
                    <div class="flex space-x-2 flex-wrap" id="draggables-container">
                        ${generateDraggables(exercise.draggables)}
                    </div>
                </div>
                <table class="truth-table mx-auto mb-4" id="truth-table">
                    <thead>
                        <tr class="bg-gray-100">
                            ${exercise.columns.map(col => `<th><span class="mathjax-expression">\\(${col}\\)</span></th>`).join('')}
                        </tr>
                    </thead>
                    <tbody>
                        ${exercise.rows.map(row => `
                            <tr>
                                ${Object.keys(row).filter(key => key !== 'expected').map(key => `<td>${row[key]}</td>`).join('')}
                                <td class="drop-zone" data-expected="${row.expected}" ondrop="drop(event)" ondragover="allowDrop(event)"></td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
            setupDraggables();
            // Render l·∫°i MathJax cho ph·∫ßn t·ª≠ c·ª• th·ªÉ
            MathJax.Hub.Queue(["Typeset", MathJax.Hub, container]);
        }

        function generateDraggables(count) {
            let html = '';
            for (let i = 0; i < count; i++) {
                const value = i % 2 === 0 ? '1' : '0';
                const color = value === '1' ? 'bg-green-500' : 'bg-red-500';
                html += `<div class="draggable ${color} text-white px-3 py-1 rounded cursor-grab" draggable="true" data-value="${value}">${value}</div>`;
            }
            return html;
        }

        function setupDraggables() {
            const draggables = document.querySelectorAll('.draggable');
            draggables.forEach((draggable, index) => {
                draggable.dataset.dragId = `drag-${currentExercise}-${index}`;
                draggable.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', this.dataset.dragId);
                });
            });
            
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => {
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });
            });
        }

        function prevExercise() {
            if (currentExercise > 0) {
                currentExercise--;
                loadTruthTableExercise();
                document.getElementById('truth-table-result').classList.add('hidden');
            }
        }

        function nextExercise() {
            if (currentExercise < truthTableExercises.length - 1) {
                currentExercise++;
                loadTruthTableExercise();
                document.getElementById('truth-table-result').classList.add('hidden');
            }
        }

        function resetTable() {
            loadTruthTableExercise();
            document.getElementById('truth-table-result').classList.add('hidden');
        }

        function allowDrop(ev) {
            ev.preventDefault();
            ev.target.classList.add('drag-over');
        }

        function drop(ev) {
            ev.preventDefault();
            ev.target.classList.remove('drag-over');
            
            const data = ev.dataTransfer.getData("text");
            const draggedElement = document.querySelector(`[data-drag-id="${data}"]`);
            const value = draggedElement.dataset.value;
            
            ev.target.textContent = value;
            ev.target.dataset.userValue = value;
            ev.target.classList.add(value === '1' ? 'bg-green-100' : 'bg-red-100');
            
            draggedElement.style.opacity = '0.5';
            draggedElement.draggable = false;
        }

        function checkTruthTable() {
            const dropZones = document.querySelectorAll('#truth-table .drop-zone');
            let correct = 0;
            let total = dropZones.length;
            
            dropZones.forEach(zone => {
                const expected = zone.dataset.expected;
                const userValue = zone.dataset.userValue;
                
                if (expected === userValue) {
                    correct++;
                    zone.classList.add('border-green-500', 'bg-green-100');
                } else {
                    zone.classList.add('border-red-500', 'bg-red-100');
                }
            });
            
            const resultDiv = document.getElementById('truth-table-result');
            resultDiv.classList.remove('hidden');
            
            if (correct === total) {
                resultDiv.className = 'mt-4 p-3 rounded bg-green-100 text-green-800';
                resultDiv.textContent = 'üéâ Ch√≠nh x√°c! B·∫°n ƒë√£ ho√†n th√†nh b·∫£ng ch√¢n l√Ω.';
            } else {
                resultDiv.className = 'mt-4 p-3 rounded bg-red-100 text-red-800';
                resultDiv.textContent = `‚ùå Ch∆∞a ch√≠nh x√°c. B·∫°n ƒë√∫ng ${correct}/${total}. H√£y th·ª≠ l·∫°i!`;
            }
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Initialize MathJax
        document.addEventListener('DOMContentLoaded', function() {
            MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [['\\(', '\\)']],
                    displayMath: [['\\[', '\\]']],
                    processEscapes: true
                }
            });
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        });
    </script>
</body>
</html>